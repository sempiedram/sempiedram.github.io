<!DOCTYPE html>
<html>
    <head>
        <title>Kevin Piedra - DSM</title>
        <link href="./style.css" type="text/css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js" integrity="sha512-6+YN/9o9BWrk6wSfGxQGpt3EUK6XeHi6yeHV+TYD2GR0Sj/cggRpXr1BrAQf0as6XslxomMUxXp2vIl+fv0QRA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/6.0.4/browser/pixi.js" integrity="sha512-FC+B7IsEcnbzMzD5jbNblIYOGfQU59FlO3TXXAptESpHTDq/7xjG5F1vdlmbitePkdTlDMB7M6bbLbFGDUlBeg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://kit.fontawesome.com/2d6598c7e5.js" crossorigin="anonymous"></script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Exo">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@250">
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body style="padding-top: 130px;">
        
		<div class="container">
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="sideNav">
				<div class="container-md">
					<a class="navbar-brand" href="/"><img src="/logo.png" width="200"></a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="/">Home</a>
							</li>
							<li class="nav-item">
								<a class="nav-link active" href="/dsm/">Slot Machine Demo</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</div>
        
        <main>
            <div id="game"></div>
            <script src="./demogame.js"></script>
            <script src="./gamesetup.js"></script>
            <div class="orientationsContainer">
                <button id="landscapeButton" type="button"><img draggable="false" src="./assets/images/sizeButtons/landscape.png" alt="Mobile Landscape" /></button>
                <button id="portraitButton" type="button"><img draggable="false" src="./assets/images/sizeButtons/portrait.png" alt="Mobile Portrait" /></button>
                <button id="pcButton" type="button"><img draggable="false" src="./assets/images/sizeButtons/monitor.png" alt="PC" /></button>
                <button id="pcBigButton" type="button"><img draggable="false" src="./assets/images/sizeButtons/monitor.png" alt="PC" /></button>
                <button id="wideButton" type="button"><img draggable="false" src="./assets/images/sizeButtons/wideMonitor.png" alt="Wide" /></button>
            </div>
            
            <div class="warning">Even though it might work, this demo wasn't made for phones or tablets.</div>
            
            <div class="myinfo">
                <p>Hi! I am Kevin Piedra, and I made this little demo because I'm looking for a job.</p>
                <p style="margin-bottom: 0px;">Here's my CV:</p>
                <a href="../Kevin_Piedra_CV_2023.pdf" download>English</a>,&nbsp;
                <a href="../Kevin_Piedra_CV_2023_ES.pdf" download>Espa√±ol</a>
            </div>

            <div class="storytime">
                <h1>Kevin Piedra - Demo Slot Machine</h1>
                <h2>August 10, 2021</h2>
            <p>
I wanted to create some kind of interactive app with Javascript, since I had only used JS in very very small things, and had only learned the basics. I also wanted to have something to show. I decided that a slots machine would be enough.
            </p>

            <p>
I started reading about the state of the Javascript development world, and about things I had read before: Node.js & NPM, AJAX & fetch(), API's, and a bunch of stuff in the MDN Web Docs. It was a <i><b>lot</b></i> of information, but I went through it. It took some good hours.
            </p>

            <p>
I set up a little npm folder try out tools that people recommend: Webpack, Parcel, Typescript, Babel. There is lots to learn there too, and I had already learned enough (to my liking) recently, so I chose Parcel, which kinda' works without requiring much setup. Now I only had to install PIXI.js, import it (learn about the import system in Node.js vs ES6), and then just put some graphics on the screen and the game is done! Right?
            </p>

            <p>
Well, No. I found that I had to deal with the new* (to me) way Javascript does asynchronous execution because PixiJS uses it. So I read on MDN about async, await, thenable objects, Promises(), and the event queue. It wasn't hard to understand the concepts, the problem was that, initially, I was doing everything in an imperative programming mindset (you know, like C, C++, etc), so I had to redo some stuff, and force some async stuff to look more like imperative stuff. Not so good looking code resulted. But now I know.
            </p>

            <p>
I marched forward to create something that looks usable, and I did it! Parcel provides a development server with hot swapping and continuous "compilation", which was cool, but it broke. Apparently Parcel has some bugs (properly reported on their GitHub repo), which make it really hard to debug with it (bad obfuscated code source maps -> you don't know where the error happened). So I retired Parcel, and stuck to using the <code>python -m http.server 8888</code> local server trick to debug.
            </p>

            <p>
Now with a Minimum Viable Product, it was time to think about how to deploy it so that other people may see this thing. I wanted it to be private (require a password), and made with C# and ASP.NET Core (which I had never touched). So I went through another learning journey. I found that I didn't want to serve the libraries my game depended on, so I trashed NPM, and went with a simple <code>&lt;script&gt;</code> tag from some free CDN.
            </p>

            <p>
I now had a basic "web site" (with a small SQL database to keep track of user sessions) that serves my app. I published it to an Azure free tier server (had to learn how to use Azure; I had only ever used GCP, and AWS), and it was online.
            </p>

            <p>
There are other troubles that I found myself in, but I either hid them, or overcame them. If I had to publish the game, I could improve it a lot, knowing what I know now, but I think it's enough for a demo.
            </p>

            <p class="smallpp">
Also, I had to serve it from my free GitHub pages site, because my 30 days free host expired.
            </p>

            </div>
        </main>
        
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    </body>
</html>
